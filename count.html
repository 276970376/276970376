<head>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
body{text-align:center;margin:0px auto;}
div{margin:0px auto;font-size:50px;} 
input{font-size:50px;}
</style>
<title>快速计算器</title>
</head>
<body>
<div >
<input id=sc    style="width:90%;height:%10"  placeholder="数组"/>
<br/>
<input id=str   style="width:90%;height:%10"   placeholder=""/>
<br/>
<div id=count style="color:red;width:100%;height:%10;font-size:15px">
</div>
<div id=lv style="color:red;width:100%;height:%10;font-size:15px">
</div>
<div>
<input  type=button value="7"  style="width:30%;height:%10" onclick="shu(this.value)"/>
<input  type=button value="8"  style="width:30%;height:%10" onclick="shu(this.value)"/>
<input  type=button value="9"  style="width:30%;height:%10" onclick="shu(this.value)"/>
<br/>
<input  type=button value="4"  style="width:30%;height:%10" onclick="shu(this.value)"/>
<input  type=button value="5"  style="width:30%;height:%10" onclick="shu(this.value)"/>
<input  type=button value="6"  style="width:30%;height:%10" onclick="shu(this.value)"/>
<br/>
<input  type=button value="1"  style="width:30%;height:%10" onclick="shu(this.value)"/>
<input  type=button value="2"  style="width:30%;height:%10" onclick="shu(this.value)"/>
<input  type=button value="3"  style="width:30%;height:%10" onclick="shu(this.value)"/>
<br/>
<input  type=button value="0"  style="width:30%;height:%10" onclick="shu(this.value)"/>
<input  type=button value="." style="width:30%;height:%10"  onclick="shu(this.value)"/>
<input  type=button value="L" style="width:30%;height:%10"  onclick="shu(this.value)"/>
<br/>
</div>
</div>
<div style="color:red;width:90%;height:%10;font-size:15px" >
温馨提示：此功能比较单一计算！<br/>"L"键为确认输入！单次输入错误时，可输入两个“点”即可删除当前数据！<br/>刷新可以重新计算（单科）成绩！如果有什么建议和问题可以提出！<br/>微信：15037116532.
</div>
</body>
<script>
var count = (arr,b, g) => arr.reduce((a, v) =>( a['SumBestCount']=arr.filter(bn => bn>=b).length, a['SumGoodCount']=arr.filter(gn => gn>=g).length ,a['SumCount']=0,a['SumCount'] = arr.length,a['Sum']=a['Sum']+Number(v),a['avr']=(a['Sum']/arr.length).toFixed(2),a['PassBestRatio']=((a['SumBestCount']/arr.length*100).toFixed(2)+"%"),a['PassGoodRatio']=((a['SumGoodCount']/arr.length*100).toFixed(2)+"%"),a), {"SumBestCount":0,"SumCount":0,"PassBestRatio":0,"SumGoodCount":0,"PassGoodRatio":0,"Sum":0,"avr":0});
function $(id)
{
return document.getElementById(id)
}
var str=""
var cj=[]
shu("L")
function shu(value)
{
        if ( value!="L") { str=str+value;$('str').value=str; if(value==".") tts="点";else tts=value; new Audio("https://tts.baidu.com/text2audio?cuid=baiduid&lan=zh&ctp=1&per=111&pdt=311&pit=8&spd=5&vol=15&aue=3&tex="+encodeURI(tts)).play(); }
		if (value=="L") {
						if(!isNaN($('str').value ))
												{
												//new Audio("https://tts.baidu.com/text2audio?cuid=baiduid&lan=zh&ctp=1&per=111&pdt=311&pit=8&spd=5&vol=15&aue=3&tex="+encodeURI($('str').value)).play();
												$('sc').value=str; 
												cj.unshift(str);
												$('str').value=str;}str="";
												$('str').value=""; 
												//$('lv').innerHTML=JSON.stringify(count(cj.filter(Boolean),80,60))
												$('count').innerHTML="优秀人数:"+count(cj.filter(Boolean),80,60).SumBestCount+"."+"及格人数:"+count(cj.filter(Boolean),80,60).SumGoodCount+"."+"总人数:"+count(cj.filter(Boolean),80,60).SumCount+"."+"总分:"+count(cj.filter(Boolean),80,60).Sum+".";
												$('lv').innerHTML="优秀率:"+count(cj.filter(Boolean),80,60).PassBestRatio+"."+"及格率:"+count(cj.filter(Boolean),80,60).PassGoodRatio+"."+"平均分:"+count(cj.filter(Boolean),80,60).avr+".";
												//jieguotts=$('sc').value+"."+"优秀人数:"+count(cj.filter(Boolean),80,60).SumBestCount+"."+"及格人数:"+count(cj.filter(Boolean),80,60).SumGoodCount+"."+"总人数："+count(cj.filter(Boolean),80,60).SumCount+"."+"总分："+count(cj.filter(Boolean),80,60).Sum+"."+"优秀率："+count(cj.filter(Boolean),80,60).PassBestRatio+"."+"及格率："+count(cj.filter(Boolean),80,60).PassGoodRatio+"."+"平均分："+count(cj.filter(Boolean),80,60).avr+".";
												//new Audio("https://tts.baidu.com/text2audio?cuid=baiduid&lan=zh&ctp=1&per=111&pdt=311&pit=1&spd=5&vol=15&aue=3&tex="+encodeURI(jieguotts)).play();
												}
}
</script>
